(function(e){"use strict";e(window.jQuery,window,document)})(function(e,t,n,r){"use strict";e.widget("selectBox.selectBoxIt",{VERSION:"3.8.1",options:{showEffect:"none",showEffectOptions:{},showEffectSpeed:"medium",hideEffect:"none",hideEffectOptions:{},hideEffectSpeed:"medium",showFirstOption:true,defaultText:"",defaultIcon:"",downArrowIcon:"",theme:"default",keydownOpen:true,isMobile:function(){var e=navigator.userAgent||navigator.vendor||t.opera;return/iPhone|iPod|iPad|Silk|Android|BlackBerry|Opera Mini|IEMobile/.test(e)},"native":false,aggressiveChange:false,selectWhenHidden:true,viewport:e(t),similarSearch:false,copyAttributes:["title","rel"],copyClasses:"button",nativeMousedown:false,customShowHideEvent:false,autoWidth:true,html:true,populate:"",dynamicPositioning:true,hideCurrent:false},getThemes:function(){var t=this,n=e(t.element).attr("data-theme")||"c";return{bootstrap:{focus:"active",hover:"",enabled:"enabled",disabled:"disabled",arrow:"caret",button:"btn",list:"dropdown-menu",container:"bootstrap",open:"open"},jqueryui:{focus:"ui-state-focus",hover:"ui-state-hover",enabled:"ui-state-enabled",disabled:"ui-state-disabled",arrow:"ui-icon ui-icon-triangle-1-s",button:"ui-widget ui-state-default",list:"ui-widget ui-widget-content",container:"jqueryui",open:"selectboxit-open"},jquerymobile:{focus:"ui-btn-down-"+n,hover:"ui-btn-hover-"+n,enabled:"ui-enabled",disabled:"ui-disabled",arrow:"ui-icon ui-icon-arrow-d ui-icon-shadow",button:"ui-btn ui-btn-icon-right ui-btn-corner-all ui-shadow ui-btn-up-"+n,list:"ui-btn ui-btn-icon-right ui-btn-corner-all ui-shadow ui-btn-up-"+n,container:"jquerymobile",open:"selectboxit-open"},"default":{focus:"selectboxit-focus",hover:"selectboxit-hover",enabled:"selectboxit-enabled",disabled:"selectboxit-disabled",arrow:"selectboxit-default-arrow",button:"selectboxit-btn",list:"selectboxit-list",container:"selectboxit-container",open:"selectboxit-open"}}},isDeferred:function(t){return e.isPlainObject(t)&&t.promise&&t.done},_create:function(t){var r=this,i=r.options["populate"],s=r.options["theme"];if(!r.element.is("select")){return}r.widgetProto=e.Widget.prototype;r.originalElem=r.element[0];r.selectBox=r.element;if(r.options["populate"]&&r.add&&!t){r.add(i)}r.selectItems=r.element.find("option");r.firstSelectItem=r.selectItems.slice(0,1);r.documentHeight=e(n).height();r.theme=e.isPlainObject(s)?e.extend({},r.getThemes()["default"],s):r.getThemes()[s]?r.getThemes()[s]:r.getThemes()["default"];r.currentFocus=0;r.blur=true;r.textArray=[];r.currentIndex=0;r.currentText="";r.flipped=false;if(!t){r.selectBoxStyles=r.selectBox.attr("style")}r._createDropdownButton()._createUnorderedList()._copyAttributes()._replaceSelectBox()._addClasses(r.theme)._eventHandlers();if(r.originalElem.disabled&&r.disable){r.disable()}if(r._ariaAccessibility){r._ariaAccessibility()}r.isMobile=r.options["isMobile"]();if(r._mobile){r._mobile()}if(r.options["native"]){this._applyNativeSelect()}r.triggerEvent("create");return r},_createDropdownButton:function(){var t=this,n=t.originalElemId=t.originalElem.id||"",r=t.originalElemValue=t.originalElem.value||"",i=t.originalElemName=t.originalElem.name||"",s=t.options["copyClasses"],o=t.selectBox.attr("class")||"";t.dropdownText=e("<span/>",{id:n&&n+"SelectBoxItText","class":"selectboxit-text",unselectable:"on",text:t.firstSelectItem.text()}).attr("data-val",r);t.dropdownImageContainer=e("<span/>",{"class":"selectboxit-option-icon-container"});t.dropdownImage=e("<i/>",{id:n&&n+"SelectBoxItDefaultIcon","class":"selectboxit-default-icon",unselectable:"on"});t.dropdown=e("<span/>",{id:n&&n+"SelectBoxIt","class":"selectboxit "+(s==="button"?o:"")+" "+(t.selectBox.prop("disabled")?t.theme["disabled"]:t.theme["enabled"]),name:i,tabindex:t.selectBox.attr("tabindex")||"0",unselectable:"on"}).append(t.dropdownImageContainer.append(t.dropdownImage)).append(t.dropdownText);t.dropdownContainer=e("<span/>",{id:n&&n+"SelectBoxItContainer","class":"selectboxit-container "+t.theme.container+" "+(s==="container"?o:"")}).append(t.dropdown);return t},_createUnorderedList:function(){var t=this,n,r,i,s,o,u,a,f="",l=t.originalElemId||"",c=e("<ul/>",{id:l&&l+"SelectBoxItOptions","class":"selectboxit-options",tabindex:-1}),h,p,d,v,m,g;if(!t.options["showFirstOption"]){t.selectItems.first().attr("disabled","disabled");t.selectItems=t.selectBox.find("option").slice(1)}t.selectItems.each(function(l){m=e(this);r="";i="";n=m.prop("disabled");s=m.attr("data-icon")||"";o=m.attr("data-iconurl")||"";u=o?"selectboxit-option-icon-url":"";a=o?"style=\"background-image:url('"+o+"');\"":"";h=m.attr("data-selectedtext");p=m.attr("data-text");v=p?p:m.text();g=m.parent();if(g.is("optgroup")){r="selectboxit-optgroup-option";if(m.index()===0){i='<span class="selectboxit-optgroup-header '+g.first().attr("class")+'"data-disabled="true">'+g.first().attr("label")+"</span>"}}m.attr("value",this.value);f+=i+'<li data-id="'+l+'" data-val="'+this.value+'" data-disabled="'+n+'" class="'+r+" selectboxit-option "+(e(this).attr("class")||"")+'"><a class="selectboxit-option-anchor"><span class="selectboxit-option-icon-container"><i class="selectboxit-option-icon '+s+" "+(u||t.theme["container"])+'"'+a+"></i></span>"+(t.options["html"]?v:t.htmlEscape(v))+"</a></li>";d=m.attr("data-search");t.textArray[l]=n?"":d?d:v;if(this.selected){t._setText(t.dropdownText,h||v);t.currentFocus=l}});if(t.options["defaultText"]||t.selectBox.attr("data-text")){var y=t.options["defaultText"]||t.selectBox.attr("data-text");t._setText(t.dropdownText,y);t.options["defaultText"]=y}c.append(f);t.list=c;t.dropdownContainer.append(t.list);t.listItems=t.list.children("li");t.listAnchors=t.list.find("a");t.listItems.first().addClass("selectboxit-option-first");t.listItems.last().addClass("selectboxit-option-last");t.list.find("li[data-disabled='true']").not(".optgroupHeader").addClass(t.theme["disabled"]);t.dropdownImage.addClass(t.selectBox.attr("data-icon")||t.options["defaultIcon"]||t.listItems.eq(t.currentFocus).find("i").attr("class"));t.dropdownImage.attr("style",t.listItems.eq(t.currentFocus).find("i").attr("style"));return t},_replaceSelectBox:function(){var t=this,n,i=t.originalElem.id||"",s=t.selectBox.attr("data-size"),o=t.listSize=s===r?"auto":s==="0"||"size"==="auto"?"auto":+s,u,a;t.selectBox.css("display","none").after(t.dropdownContainer);t.dropdownContainer.appendTo("body").addClass("selectboxit-rendering");n=t.dropdown.height();t.downArrow=e("<i/>",{id:i&&i+"SelectBoxItArrow","class":"selectboxit-arrow",unselectable:"on"});t.downArrowContainer=e("<span/>",{id:i&&i+"SelectBoxItArrowContainer","class":"selectboxit-arrow-container",unselectable:"on"}).append(t.downArrow);t.dropdown.append(t.downArrowContainer);t.listItems.removeClass("selectboxit-selected").eq(t.currentFocus).addClass("selectboxit-selected");u=t.downArrowContainer.outerWidth(true);a=t.dropdownImage.outerWidth(true);if(t.options["autoWidth"]){t.dropdown.css({width:"auto"}).css({width:t.list.outerWidth(true)+u+a});t.list.css({"min-width":t.dropdown.width()+2})}t.dropdownText.css({"max-width":t.dropdownContainer.outerWidth(true)-(u+a)});t.selectBox.after(t.dropdownContainer);t.dropdownContainer.removeClass("selectboxit-rendering");if(e.type(o)==="number"){t.maxHeight=t.listAnchors.outerHeight(true)*o}return t},_scrollToView:function(e){var t=this,n=t.listItems.eq(t.currentFocus),r=t.list.scrollTop(),i=n.height(),s=n.position().top,o=Math.abs(s),u=t.list.height(),a;if(e==="search"){if(u-s<i){t.list.scrollTop(r+(s-(u-i)))}else if(s<-1){t.list.scrollTop(s-i)}}else if(e==="up"){if(s<-1){t.list.scrollTop(r-o)}}else if(e==="down"){if(u-s<i){t.list.scrollTop(r+(o-u+i))}}return t},_callbackSupport:function(t){var n=this;if(e.isFunction(t)){t.call(n,n.dropdown)}return n},_setText:function(e,t){var n=this;if(n.options["html"]){e.html(t)}else{e.text(t)}return n},open:function(e){var t=this,n=t.options["showEffect"],r=t.options["showEffectSpeed"],i=t.options["showEffectOptions"],s=t.options["native"],o=t.isMobile;if(!t.listItems.length||t.dropdown.hasClass(t.theme["disabled"])){return t}if(!s&&!o&&!this.list.is(":visible")){t.triggerEvent("open");if(t._dynamicPositioning&&t.options["dynamicPositioning"]){t._dynamicPositioning()}if(n==="none"){t.list.show()}else if(n==="show"||n==="slideDown"||n==="fadeIn"){t.list[n](r)}else{t.list.show(n,i,r)}t.list.promise().done(function(){t._scrollToView("search");t.triggerEvent("opened")})}t._callbackSupport(e);return t},close:function(e){var t=this,n=t.options["hideEffect"],r=t.options["hideEffectSpeed"],i=t.options["hideEffectOptions"],s=t.options["native"],o=t.isMobile;if(!s&&!o&&t.list.is(":visible")){t.triggerEvent("close");if(n==="none"){t.list.hide()}else if(n==="hide"||n==="slideUp"||n==="fadeOut"){t.list[n](r)}else{t.list.hide(n,i,r)}t.list.promise().done(function(){t.triggerEvent("closed")})}t._callbackSupport(e);return t},toggle:function(){var e=this,t=e.list.is(":visible");if(t){e.close()}else if(!t){e.open()}},_keyMappings:{38:"up",40:"down",13:"enter",8:"backspace",9:"tab",32:"space",27:"esc"},_keydownMethods:function(){var e=this,t=e.list.is(":visible")||!e.options["keydownOpen"];return{down:function(){if(e.moveDown&&t){e.moveDown()}},up:function(){if(e.moveUp&&t){e.moveUp()}},enter:function(){var t=e.listItems.eq(e.currentFocus);e._update(t);if(t.attr("data-preventclose")!=="true"){e.close()}e.triggerEvent("enter")},tab:function(){e.triggerEvent("tab-blur");e.close()},backspace:function(){e.triggerEvent("backspace")},esc:function(){e.close()}}},_eventHandlers:function(){var t=this,n=t.options["nativeMousedown"],r=t.options["customShowHideEvent"],i,s,o=t.focusClass,u=t.hoverClass,a=t.openClass;this.dropdown.on({"click.selectBoxIt":function(){t.dropdown.trigger("focus",true);if(!t.originalElem.disabled){t.triggerEvent("click");if(!n&&!r){t.toggle()}}},"mousedown.selectBoxIt":function(){e(this).data("mdown",true);t.triggerEvent("mousedown");if(n&&!r){t.toggle()}},"mouseup.selectBoxIt":function(){t.triggerEvent("mouseup")},"blur.selectBoxIt":function(){if(t.blur){t.triggerEvent("blur");t.close();e(this).removeClass(o)}},"focus.selectBoxIt":function(n,r){var i=e(this).data("mdown");e(this).removeData("mdown");if(!i&&!r){setTimeout(function(){t.triggerEvent("tab-focus")},0)}if(!r){if(!e(this).hasClass(t.theme["disabled"])){e(this).addClass(o)}t.triggerEvent("focus")}},"keydown.selectBoxIt":function(e){var n=t._keyMappings[e.keyCode],r=t._keydownMethods()[n];if(r){r();if(t.options["keydownOpen"]&&(n==="up"||n==="down")){t.open()}}if(r&&n!=="tab"){e.preventDefault()}},"keypress.selectBoxIt":function(e){var n=e.charCode||e.keyCode,r=t._keyMappings[e.charCode||e.keyCode],i=String.fromCharCode(n);if(t.search&&(!r||r&&r==="space")){t.search(i,true,true)}if(r==="space"){e.preventDefault()}},"mouseenter.selectBoxIt":function(){t.triggerEvent("mouseenter")},"mouseleave.selectBoxIt":function(){t.triggerEvent("mouseleave")}});t.list.on({"mouseover.selectBoxIt":function(){t.blur=false},"mouseout.selectBoxIt":function(){t.blur=true},"focusin.selectBoxIt":function(){t.dropdown.trigger("focus",true)}});t.list.on({"mousedown.selectBoxIt":function(){t._update(e(this));t.triggerEvent("option-click");if(e(this).attr("data-disabled")==="false"&&e(this).attr("data-preventclose")!=="true"){t.close()}setTimeout(function(){t.dropdown.trigger("focus",true)},0)},"focusin.selectBoxIt":function(){t.listItems.not(e(this)).removeAttr("data-active");e(this).attr("data-active","");var n=t.list.is(":hidden");if(t.options["searchWhenHidden"]&&n||t.options["aggressiveChange"]||n&&t.options["selectWhenHidden"]){t._update(e(this))}e(this).addClass(o)},"mouseup.selectBoxIt":function(){if(n&&!r){t._update(e(this));t.triggerEvent("option-mouseup");if(e(this).attr("data-disabled")==="false"&&e(this).attr("data-preventclose")!=="true"){t.close()}}},"mouseenter.selectBoxIt":function(){if(e(this).attr("data-disabled")==="false"){t.listItems.removeAttr("data-active");e(this).addClass(o).attr("data-active","");t.listItems.not(e(this)).removeClass(o);e(this).addClass(o);t.currentFocus=+e(this).attr("data-id")}},"mouseleave.selectBoxIt":function(){if(e(this).attr("data-disabled")==="false"){t.listItems.not(e(this)).removeClass(o).removeAttr("data-active");e(this).addClass(o);t.currentFocus=+e(this).attr("data-id")}},"blur.selectBoxIt":function(){e(this).removeClass(o)}},".selectboxit-option");t.list.on({"click.selectBoxIt":function(e){e.preventDefault()}},"a");t.selectBox.on({"change.selectBoxIt, internal-change.selectBoxIt":function(e,n){var r,o;if(!n){r=t.list.find('li[data-val="'+t.originalElem.value+'"]');if(r.length){t.listItems.eq(t.currentFocus).removeClass(t.focusClass);t.currentFocus=+r.attr("data-id")}}r=t.listItems.eq(t.currentFocus);o=r.attr("data-selectedtext");i=r.attr("data-text");s=i?i:r.find("a").text();t._setText(t.dropdownText,o||s);t.dropdownText.attr("data-val",t.originalElem.value);if(r.find("i").attr("class")){t.dropdownImage.attr("class",r.find("i").attr("class")).addClass("selectboxit-default-icon");t.dropdownImage.attr("style",r.find("i").attr("style"))}t.triggerEvent("changed")},"disable.selectBoxIt":function(){t.dropdown.addClass(t.theme["disabled"])},"enable.selectBoxIt":function(){t.dropdown.removeClass(t.theme["disabled"])},"open.selectBoxIt":function(){var e=t.list.find("li[data-val='"+t.dropdownText.attr("data-val")+"']"),n;if(!e.length){e=t.listItems.not("[data-disabled=true]").first()}t.currentFocus=+e.attr("data-id");n=t.listItems.eq(t.currentFocus);t.dropdown.addClass(a).removeClass(u).addClass(o);t.listItems.removeClass(t.selectedClass).removeAttr("data-active").not(n).removeClass(o);n.addClass(t.selectedClass).addClass(o);if(t.options.hideCurrent){t.listItems.show();n.hide()}},"close.selectBoxIt":function(){t.dropdown.removeClass(a)},"blur.selectBoxIt":function(){t.dropdown.removeClass(o)},"mouseenter.selectBoxIt":function(){if(!e(this).hasClass(t.theme["disabled"])){t.dropdown.addClass(u)}},"mouseleave.selectBoxIt":function(){t.dropdown.removeClass(u)},destroy:function(e){e.preventDefault();e.stopPropagation()}});return t},_update:function(e){var t=this,n,r,i,s=t.options["defaultText"]||t.selectBox.attr("data-text"),o=t.listItems.eq(t.currentFocus);if(e.attr("data-disabled")==="false"){n=t.listItems.eq(t.currentFocus).attr("data-selectedtext");r=o.attr("data-text");i=r?r:o.text();if((s&&t.options["html"]?t.dropdownText.html()===s:t.dropdownText.text()===s)&&t.selectBox.val()===e.attr("data-val")){t.triggerEvent("change")}else{t.selectBox.val(e.attr("data-val"));t.currentFocus=+e.attr("data-id");if(t.originalElem.value!==t.dropdownText.attr("data-val")){t.triggerEvent("change")}}}},_addClasses:function(e){var t=this,n=t.focusClass=e.focus,r=t.hoverClass=e.hover,i=e.button,s=e.list,o=e.arrow,u=e.container,a=t.openClass=e.open;t.selectedClass="selectboxit-selected";t.downArrow.addClass(t.selectBox.attr("data-downarrow")||t.options["downArrowIcon"]||o);t.dropdownContainer.addClass(u);t.dropdown.addClass(i);t.list.addClass(s);return t},refresh:function(e,t){var n=this;n._destroySelectBoxIt()._create(true);if(!t){n.triggerEvent("refresh")}n._callbackSupport(e);return n},htmlEscape:function(e){return String(e).replace(/&/g,"&").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},triggerEvent:function(e){var t=this,n=t.options["showFirstOption"]?t.currentFocus:t.currentFocus-1>=0?t.currentFocus:0;t.selectBox.trigger(e,{selectbox:t.selectBox,selectboxOption:t.selectItems.eq(n),dropdown:t.dropdown,dropdownOption:t.listItems.eq(t.currentFocus)});return t},_copyAttributes:function(){var e=this;if(e._addSelectBoxAttributes){e._addSelectBoxAttributes()}return e},_realOuterWidth:function(e){if(e.is(":visible")){return e.outerWidth(true)}var t=this,n=e.clone(),r;n.css({visibility:"hidden",display:"block",position:"absolute"}).appendTo("body");r=n.outerWidth(true);n.remove();return r}});var i=e.selectBox.selectBoxIt.prototype;i._ariaAccessibility=function(){var t=this,n=e("label[for='"+t.originalElem.id+"']");t.dropdownContainer.attr({role:"combobox","aria-autocomplete":"list","aria-haspopup":"true","aria-expanded":"false","aria-owns":t.list[0].id});t.dropdownText.attr({"aria-live":"polite"});t.dropdown.on({"disable.selectBoxIt":function(){t.dropdownContainer.attr("aria-disabled","true")},"enable.selectBoxIt":function(){t.dropdownContainer.attr("aria-disabled","false")}});if(n.length){t.dropdownContainer.attr("aria-labelledby",n[0].id)}t.list.attr({role:"listbox","aria-hidden":"true"});t.listItems.attr({role:"option"});t.selectBox.on({"open.selectBoxIt":function(){t.list.attr("aria-hidden","false");t.dropdownContainer.attr("aria-expanded","true")},"close.selectBoxIt":function(){t.list.attr("aria-hidden","true");t.dropdownContainer.attr("aria-expanded","false")}});return t};i._addSelectBoxAttributes=function(){var t=this;t._addAttributes(t.selectBox.prop("attributes"),t.dropdown);t.selectItems.each(function(n){t._addAttributes(e(this).prop("attributes"),t.listItems.eq(n))});return t};i._addAttributes=function(t,n){var r=this,i=r.options["copyAttributes"];if(t.length){e.each(t,function(t,r){var s=r.name.toLowerCase(),o=r.value;if(o!=="null"&&(e.inArray(s,i)!==-1||s.indexOf("data")!==-1)){n.attr(s,o)}})}return r};i.destroy=function(e){var t=this;t._destroySelectBoxIt();t.widgetProto.destroy.call(t);t._callbackSupport(e);return t};i._destroySelectBoxIt=function(){var t=this;t.dropdown.off(".selectBoxIt");if(e.contains(t.dropdownContainer[0],t.originalElem)){t.dropdownContainer.before(t.selectBox)}t.dropdownContainer.remove();t.selectBox.removeAttr("style").attr("style",t.selectBoxStyles);t.triggerEvent("destroy");return t};i.disable=function(e){var t=this;if(!t.options["disabled"]){t.close();t.selectBox.attr("disabled","disabled");t.dropdown.removeAttr("tabindex").removeClass(t.theme["enabled"]).addClass(t.theme["disabled"]);t.setOption("disabled",true);t.triggerEvent("disable")}t._callbackSupport(e);return t};i.disableOption=function(t,n){var r=this,i,s,o,u=e.type(t);if(u==="number"){r.close();i=r.selectBox.find("option").eq(t);r.triggerEvent("disable-option");i.attr("disabled","disabled");r.listItems.eq(t).attr("data-disabled","true").addClass(r.theme["disabled"]);if(r.currentFocus===t){s=r.listItems.eq(r.currentFocus).nextAll("li").not("[data-disabled='true']").first().length;o=r.listItems.eq(r.currentFocus).prevAll("li").not("[data-disabled='true']").first().length;if(s){r.moveDown()}else if(o){r.moveUp()}else{r.disable()}}}r._callbackSupport(n);return r};i._isDisabled=function(e){var t=this;if(t.originalElem.disabled){t.disable()}return t};i._dynamicPositioning=function(){var t=this;if(e.type(t.listSize)==="number"){t.list.css("max-height",t.maxHeight||"none")}else{var n=t.dropdown.offset().top,r=t.list.data("max-height")||t.list.outerHeight(),i=t.dropdown.outerHeight(),s=t.options["viewport"],o=s.height(),u=e.isWindow(s.get(0))?s.scrollTop():s.offset().top,a=n+i+r<=o+u,f=!a;if(!t.list.data("max-height")){t.list.data("max-height",t.list.outerHeight())}if(!f){t.list.css("max-height",r);t.list.css("top","auto")}else if(t.dropdown.offset().top-u>=r){t.list.css("max-height",r);t.list.css("top",t.dropdown.position().top-t.list.outerHeight())}else{var l=Math.abs(n+i+r-(o+u)),c=Math.abs(t.dropdown.offset().top-u-r);if(l<c){t.list.css("max-height",r-l-i/2);t.list.css("top","auto")}else{t.list.css("max-height",r-c-i/2);t.list.css("top",t.dropdown.position().top-t.list.outerHeight())}}}return t};i.enable=function(e){var t=this;if(t.options["disabled"]){t.triggerEvent("enable");t.selectBox.removeAttr("disabled");t.dropdown.attr("tabindex",0).removeClass(t.theme["disabled"]).addClass(t.theme["enabled"]);t.setOption("disabled",false);t._callbackSupport(e)}return t};i.enableOption=function(t,n){var r=this,i,s=0,o,u,a=e.type(t);if(a==="number"){i=r.selectBox.find("option").eq(t);r.triggerEvent("enable-option");i.removeAttr("disabled");r.listItems.eq(t).attr("data-disabled","false").removeClass(r.theme["disabled"])}r._callbackSupport(n);return r};i.moveDown=function(e){var t=this;t.currentFocus+=1;var n=t.listItems.eq(t.currentFocus).attr("data-disabled")==="true"?true:false,r=t.listItems.eq(t.currentFocus).nextAll("li").not("[data-disabled='true']").first().length;if(t.currentFocus===t.listItems.length){t.currentFocus-=1}else if(n&&r){t.listItems.eq(t.currentFocus-1).blur();t.moveDown();return}else if(n&&!r){t.currentFocus-=1}else{t.listItems.eq(t.currentFocus-1).blur().end().eq(t.currentFocus).focusin();t._scrollToView("down");t.triggerEvent("moveDown")}t._callbackSupport(e);return t};i.moveUp=function(e){var t=this;t.currentFocus-=1;var n=t.listItems.eq(t.currentFocus).attr("data-disabled")==="true"?true:false,r=t.listItems.eq(t.currentFocus).prevAll("li").not("[data-disabled='true']").first().length;if(t.currentFocus===-1){t.currentFocus+=1}else if(n&&r){t.listItems.eq(t.currentFocus+1).blur();t.moveUp();return}else if(n&&!r){t.currentFocus+=1}else{t.listItems.eq(this.currentFocus+1).blur().end().eq(t.currentFocus).focusin();t._scrollToView("up");t.triggerEvent("moveUp")}t._callbackSupport(e);return t};i._setCurrentSearchOption=function(e){var t=this;if((t.options["aggressiveChange"]||t.options["selectWhenHidden"]||t.listItems.eq(e).is(":visible"))&&t.listItems.eq(e).data("disabled")!==true){t.listItems.eq(t.currentFocus).blur();t.currentIndex=e;t.currentFocus=e;t.listItems.eq(t.currentFocus).focusin();t._scrollToView("search");t.triggerEvent("search")}return t};i._searchAlgorithm=function(e,t){var n=this,r=false,i,s,o,u,a=n.textArray,f=n.currentText;for(i=e,o=a.length;i<o;i+=1){u=a[i];for(s=0;s<o;s+=1){if(a[s].search(t)!==-1){r=true;s=o}}if(!r){n.currentText=n.currentText.charAt(n.currentText.length-1).replace(/[|()\[{.+*?$\\]/g,"\\$0");f=n.currentText}t=new RegExp(f,"gi");if(f.length<3){t=new RegExp(f.charAt(0),"gi");if(u.charAt(0).search(t)!==-1){n._setCurrentSearchOption(i);if(u.substring(0,f.length).toLowerCase()!==f.toLowerCase()||n.options["similarSearch"]){n.currentIndex+=1}return false}}else{if(u.search(t)!==-1){n._setCurrentSearchOption(i);return false}}if(u.toLowerCase()===n.currentText.toLowerCase()){n._setCurrentSearchOption(i);n.currentText="";return false}}return true};i.search=function(e,t,n){var r=this;if(n){r.currentText+=e.replace(/[|()\[{.+*?$\\]/g,"\\$0")}else{r.currentText=e.replace(/[|()\[{.+*?$\\]/g,"\\$0")}var i=r._searchAlgorithm(r.currentIndex,new RegExp(r.currentText,"gi"));if(i){r._searchAlgorithm(0,r.currentText)}r._callbackSupport(t);return r};i._updateMobileText=function(){var e=this,t,n,r;t=e.selectBox.find("option").filter(":selected");n=t.attr("data-text");r=n?n:t.text();e._setText(e.dropdownText,r);if(e.list.find('li[data-val="'+t.val()+'"]').find("i").attr("class")){e.dropdownImage.attr("class",e.list.find('li[data-val="'+t.val()+'"]').find("i").attr("class")).addClass("selectboxit-default-icon")}};i._applyNativeSelect=function(){var e=this;e.dropdownContainer.append(e.selectBox);e.dropdown.attr("tabindex","-1");e.selectBox.css({display:"block",visibility:"visible",width:e._realOuterWidth(e.dropdown),height:e.dropdown.outerHeight(),opacity:"0",position:"absolute",top:"0",left:"0",cursor:"pointer","z-index":"999999",margin:e.dropdown.css("margin"),padding:"0","-webkit-appearance":"menulist-button"});if(e.originalElem.disabled){e.triggerEvent("disable")}return this};i._mobileEvents=function(){var e=this;e.selectBox.on({"changed.selectBoxIt":function(){e.hasChanged=true;e._updateMobileText();e.triggerEvent("option-click")},"mousedown.selectBoxIt":function(){if(!e.hasChanged&&e.options.defaultText&&!e.originalElem.disabled){e._updateMobileText();e.triggerEvent("option-click")}},"enable.selectBoxIt":function(){e.selectBox.removeClass("selectboxit-rendering")},"disable.selectBoxIt":function(){e.selectBox.addClass("selectboxit-rendering")}})};i._mobile=function(e){var t=this;if(t.isMobile){t._applyNativeSelect();t._mobileEvents()}return this};i.selectOption=function(t,n){var r=this,i=e.type(t);if(i==="number"){r.selectBox.val(r.selectItems.eq(t).val()).change()}else if(i==="string"){r.selectBox.val(t).change()}r._callbackSupport(n);return r};i.setOption=function(t,n,r){var i=this;if(e.type(t)==="string"){i.options[t]=n}i.refresh(function(){i._callbackSupport(r)},true);return i};i.setOptions=function(t,n){var r=this;if(e.isPlainObject(t)){r.options=e.extend({},r.options,t)}r.refresh(function(){r._callbackSupport(n)},true);return r};i.wait=function(e,t){var n=this;n.widgetProto._delay.call(n,t,e);return n};i.add=function(t,n){this._populate(t,function(t){var r=this,i=e.type(t),s,o=0,u,a=[],f=r._isJSON(t),l=f&&r._parseJSON(t);if(t&&(i==="array"||f&&l.data&&e.type(l.data)==="array")||i==="object"&&t.data&&e.type(t.data)==="array"){if(r._isJSON(t)){t=l}if(t.data){t=t.data}for(u=t.length;o<=u-1;o+=1){s=t[o];if(e.isPlainObject(s)){a.push(e("<option/>",s))}else if(e.type(s)==="string"){a.push(e("<option/>",{text:s,value:s}))}}r.selectBox.append(a)}else if(t&&i==="string"&&!r._isJSON(t)){r.selectBox.append(t)}else if(t&&i==="object"){r.selectBox.append(e("<option/>",t))}else if(t&&r._isJSON(t)&&e.isPlainObject(r._parseJSON(t))){r.selectBox.append(e("<option/>",r._parseJSON(t)))}if(r.dropdown){r.refresh(function(){r._callbackSupport(n)},true)}else{r._callbackSupport(n)}return r})};i._parseJSON=function(t){return JSON&&JSON.parse&&JSON.parse(t)||e.parseJSON(t)};i._isJSON=function(e){var t=this,n;try{n=t._parseJSON(e);return true}catch(r){return false}};i._populate=function(t,n){var r=this;t=e.isFunction(t)?t.call():t;if(r.isDeferred(t)){t.done(function(e){n.call(r,e)})}else{n.call(r,t)}return r};i.remove=function(t,n){var r=this,i=e.type(t),s,o=0,u,a="";if(i==="array"){for(u=t.length;o<=u-1;o+=1){s=t[o];if(e.type(s)==="number"){if(a.length){a+=", option:eq("+s+")"}else{a+="option:eq("+s+")"}}}r.selectBox.find(a).remove()}else if(i==="number"){r.selectBox.find("option").eq(t).remove()}else{r.selectBox.find("option").remove()}if(r.dropdown){r.refresh(function(){r._callbackSupport(n)},true)}else{r._callbackSupport(n)}return r}})